<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…ØªÙÙˆÙ‚ÙŠÙ†</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, sans-serif; }

    body {
      background: linear-gradient(135deg, #667eea, #764ba2);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: auto;
    }

    .header {
      background: white;
      padding: 20px;
      border-radius: 20px;
      text-align: center;
      margin-bottom: 20px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    }

    .header h1 {
      color: #4c51bf;
      margin-bottom: 5px;
    }

    .header p {
      color: #555;
    }

    .grade-section {
      margin-bottom: 30px;
    }

    .grade-title {
      background: #4c51bf;
      color: white;
      padding: 10px 15px;
      border-radius: 10px;
      font-size: 1.2em;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .class-title {
      margin: 12px 0 8px;
      font-weight: bold;
      color: #333;
      padding: 5px 10px;
      background: rgba(255,255,255,0.85);
      border-radius: 8px;
      display: inline-block;
    }

    .students-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 15px;
    }

    .student-card {
      background: linear-gradient(135deg, #ffffff, #faf5ff);
      border: 3px solid #d3c3ff;
      border-radius: 20px;
      padding: 18px;
      text-align: center;
      box-shadow: 0 6px 25px rgba(0,0,0,0.15);
      transition: 0.3s;
    }

    .student-card:hover {
      transform: scale(1.03);
      box-shadow: 0 12px 35px rgba(0,0,0,0.25);
    }

    .student-photo {
      width: 110px;
      height: 110px;
      border-radius: 50%;
      overflow: hidden;
      margin: 0 auto 12px;
      border: 4px solid #a78bfa;
      background:#f3f0ff;
    }

    .student-photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .student-name {
      font-size: 1.3em;
      font-weight: bold;
      color: #5b21b6;
      margin-bottom: 5px;
    }

    .student-average {
      font-size: 1.1em;
      color: #4c1d95;
      margin-bottom: 5px;
    }

    .student-class {
      font-size: 0.95em;
      color: #555;
    }

    .message {
      text-align: center;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 15px;
      color: #1a202c;
      background: rgba(255,255,255,0.9);
    }

    @media (max-width: 768px) {
      .grade-title { font-size: 1.05em; }
    }
  </style>
</head>
<body>

<div class="container">
  <div class="header">
    <h1>ğŸ… Ù„ÙˆØ­Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…ØªÙÙˆÙ‚ÙŠÙ†</h1>
    <p>ÙŠØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù…Ù„Ù <strong>students-data.json</strong> (Ù†ÙØ³ Ù…Ù„Ù ØµÙØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©)</p>
  </div>

  <div id="message" class="message">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨...</div>

  <div id="gradesContainer"></div>
</div>

<script>
  // Ù†ÙØ³ ØªÙ‚Ø³ÙŠÙ… Ø§Ù„ØµÙÙˆÙ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
  const gradeGroups = {
    "Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø«": ["Ø§Ù„Ø«Ø§Ù„Ø« 1", "Ø§Ù„Ø«Ø§Ù„Ø« 2", "Ø§Ù„Ø«Ø§Ù„Ø« 3", "Ø§Ù„Ø«Ø§Ù„Ø« 4", "Ø§Ù„Ø«Ø§Ù„Ø« 5"],
    "Ø§Ù„ØµÙ Ø§Ù„Ø±Ø§Ø¨Ø¹": ["Ø§Ù„Ø±Ø§Ø¨Ø¹ 1", "Ø§Ù„Ø±Ø§Ø¨Ø¹ 2", "Ø§Ù„Ø±Ø§Ø¨Ø¹ 3", "Ø§Ù„Ø±Ø§Ø¨Ø¹ 4", "Ø§Ù„Ø±Ø§Ø¨Ø¹ 5"],
    "Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³": ["Ø§Ù„Ø®Ø§Ù…Ø³ 1", "Ø§Ù„Ø®Ø§Ù…Ø³ 2", "Ø§Ù„Ø®Ø§Ù…Ø³ 3", "Ø§Ù„Ø®Ø§Ù…Ø³ 4"],
    "Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¯Ø³": ["Ø§Ù„Ø³Ø§Ø¯Ø³ 1", "Ø§Ù„Ø³Ø§Ø¯Ø³ 2", "Ø§Ù„Ø³Ø§Ø¯Ø³ 3", "Ø§Ù„Ø³Ø§Ø¯Ø³ 4"]
  };

  async function loadStudents() {
    const msg = document.getElementById('message');
    try {
      // Ù…Ù„Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ù…Ø¹ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©
      const res = await fetch('students-data.json?_=' + Date.now());
      if (!res.ok) {
        msg.textContent = 'ØªØ¹Ø°Ù‘Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù students-data.json';
        return;
      }

      const data = await res.json();
      msg.style.display = 'none';
      renderStudents(data);
    } catch (e) {
      console.error(e);
      msg.textContent = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.';
    }
  }

  function renderStudents(data) {
    const container = document.getElementById('gradesContainer');
    container.innerHTML = '';

    Object.keys(gradeGroups).forEach(gradeName => {
      const classes = gradeGroups[gradeName];

      // Ù†ØªØ­Ù‚Ù‚ Ù‡Ù„ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø§Ø¨ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø£ØµÙ„Ø§Ù‹
      let total = 0;
      classes.forEach(cls => {
        const arr = data[cls];
        if (Array.isArray(arr) && arr.length > 0) total += arr.length;
      });
      if (total === 0) return;

      const gradeSection = document.createElement('div');
      gradeSection.className = 'grade-section';

      const gradeTitle = document.createElement('div');
      gradeTitle.className = 'grade-title';
      gradeTitle.textContent = gradeName;
      gradeSection.appendChild(gradeTitle);

      classes.forEach(cls => {
        const students = data[cls];
        if (!Array.isArray(students) || students.length === 0) return;

        const classTitle = document.createElement('div');
        classTitle.className = 'class-title';
        classTitle.textContent = cls;
        gradeSection.appendChild(classTitle);

        const grid = document.createElement('div');
        grid.className = 'students-grid';

        students.forEach(st => {
          const card = document.createElement('div');
          card.className = 'student-card';

          const photoHtml = st.photo
            ? `<img src="${st.photo}" alt="${st.name || ''}">`
            : '';

          card.innerHTML = `
            <div class="student-photo">
              ${photoHtml}
            </div>
            <div class="student-name">${st.name || 'Ø·Ø§Ù„Ø¨'}</div>
            <div class="student-average">Ø§Ù„Ù…Ø¹Ø¯Ù„: ${st.average || '-'}%</div>
            <div class="student-class">Ø§Ù„Ø´Ø¹Ø¨Ø©: ${cls}</div>
          `;

          grid.appendChild(card);
        });

        gradeSection.appendChild(grid);
      });

      container.appendChild(gradeSection);
    });

    if (!container.innerHTML.trim()) {
      const msg = document.getElementById('message');
      msg.style.display = 'block';
      msg.textContent = 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø§Ø¨ Ù…ØªÙÙˆÙ‚ÙˆÙ† Ù…Ø³Ø¬Ù„ÙˆÙ† Ø¨Ø¹Ø¯.';
    }
  }

  loadStudents();
</script>
</body>
</html>
